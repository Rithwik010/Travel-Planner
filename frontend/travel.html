<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>✈️ PlexoTravel - AI-Powered Trip Planning</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- AOS Animation Library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <style>
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      --warning-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
      --dark-bg: #0f0c29;
      --card-shadow: 0 10px 40px rgba(0,0,0,0.1);
      --hover-shadow: 0 20px 60px rgba(0,0,0,0.2);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      background-attachment: fixed;
      overflow-x: hidden;
    }

    /* Animated Header */
    .hero-header {
      background: var(--primary-gradient);
      padding: 80px 0;
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 50px rgba(0,0,0,0.3);
    }

    .hero-header::before {
      content: '';
      position: absolute;
      width: 300px;
      height: 300px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      top: -100px;
      right: -100px;
      animation: float 6s ease-in-out infinite;
    }

    .hero-header::after {
      content: '';
      position: absolute;
      width: 200px;
      height: 200px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      bottom: -50px;
      left: -50px;
      animation: float 8s ease-in-out infinite reverse;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    .hero-header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      font-weight: 700;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      animation: fadeInDown 1s ease-out;
    }

    .hero-header p {
      font-size: 1.3rem;
      color: rgba(255,255,255,0.95);
      animation: fadeInUp 1s ease-out 0.3s both;
    }

    /* PlexoTravel Logo Styling */
    .plexo-logo {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 2rem;
    }

    .plexo-logo-icon {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
      transform-style: preserve-3d;
      animation: logoFloat 3s ease-in-out infinite;
    }

    @keyframes logoFloat {
      0%, 100% { transform: translateY(0px) rotateY(0deg); }
      50% { transform: translateY(-5px) rotateY(10deg); }
    }

    .plexo-logo-icon::before {
      content: '✈️';
      font-size: 28px;
      position: absolute;
      animation: planeFly 4s ease-in-out infinite;
    }

    @keyframes planeFly {
      0%, 100% { transform: translate(0, 0) rotate(-10deg); }
      25% { transform: translate(3px, -3px) rotate(-5deg); }
      50% { transform: translate(-3px, 3px) rotate(-15deg); }
      75% { transform: translate(3px, 0) rotate(-8deg); }
    }

    .plexo-logo-text {
      background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: 1px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .plexo-logo-text .highlight {
      color: #ffd700;
      -webkit-text-fill-color: #ffd700;
      font-weight: 800;
    }

    /* Navbar Logo */
    .navbar-brand .plexo-logo {
      font-size: 1.5rem;
    }

    .navbar-brand .plexo-logo-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
    }

    .navbar-brand .plexo-logo-icon::before {
      font-size: 22px;
    }

    /* Modern Navigation */
    .modern-nav {
      background: rgba(15, 12, 41, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
      padding: 1rem 0;
    }

    .modern-nav .nav-link {
      color: rgba(255,255,255,0.8) !important;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
      padding: 0.5rem 1rem !important;
    }

    .modern-nav .nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: var(--warning-gradient);
      transition: all 0.3s ease;
      transform: translateX(-50%);
    }

    .modern-nav .nav-link:hover {
      color: white !important;
      transform: translateY(-2px);
    }

    .modern-nav .nav-link:hover::after {
      width: 80%;
    }

    /* Carousel Enhancements */
    .carousel-item img {
      height: 500px;
      object-fit: cover;
      filter: brightness(0.8);
      transition: all 0.5s ease;
    }

    .carousel-item:hover img {
      filter: brightness(1);
      transform: scale(1.05);
    }

    .carousel-caption {
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      padding: 20px;
      border-radius: 15px;
      animation: fadeInUp 0.8s ease-out;
    }

    /* Modern Container */
    .main-container {
      background: white;
      border-radius: 30px;
      padding: 50px;
      margin: -50px auto 50px;
      box-shadow: 0 20px 80px rgba(0,0,0,0.2);
      position: relative;
      z-index: 10;
    }

    /* Alert Styling */
    .alert-modern {
      background: var(--success-gradient);
      border: none;
      color: white;
      border-radius: 15px;
      padding: 20px 30px;
      box-shadow: var(--card-shadow);
      animation: slideInDown 0.6s ease-out;
    }

    /* Form Styling */
    .form-section {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      padding: 40px;
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      margin: 30px 0;
    }

    .form-section h2 {
      font-family: 'Playfair Display', serif;
      color: #667eea;
      margin-bottom: 30px;
      font-size: 2.5rem;
      animation: fadeIn 0.8s ease-out;
    }

    .form-label {
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .form-control, .form-select {
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 12px 20px;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .form-control:focus, .form-select:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
      transform: translateY(-2px);
    }

    .form-control.is-valid {
      border-color: #28a745;
      padding-right: calc(1.5em + 0.75rem);
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right calc(0.375em + 0.1875rem) center;
      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
    }

    .form-control.is-invalid {
      border-color: #dc3545;
      padding-right: calc(1.5em + 0.75rem);
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right calc(0.375em + 0.1875rem) center;
      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
    }

    #destinationSuggestions {
      width: 100%;
      margin-top: 5px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border: 2px solid #e2e8f0;
    }

    #destinationSuggestions .list-group-item {
      border: none;
      border-bottom: 1px solid #e2e8f0;
      padding: 12px 20px;
      transition: all 0.2s ease;
    }

    #destinationSuggestions .list-group-item:first-child {
      border-radius: 12px 12px 0 0;
    }

    #destinationSuggestions .list-group-item:last-child {
      border-radius: 0 0 12px 12px;
      border-bottom: none;
    }

    #destinationSuggestions .list-group-item:hover {
      background: linear-gradient(135deg, #f5f7fa 0%, #e2e8f0 100%);
      padding-left: 25px;
    }

    body.dark-mode #destinationSuggestions {
      background: #2d2d44;
      border-color: #3d3d5c;
    }

    body.dark-mode #destinationSuggestions .list-group-item {
      background: #2d2d44;
      color: #e0e0e0;
      border-bottom-color: #3d3d5c;
    }

    body.dark-mode #destinationSuggestions .list-group-item:hover {
      background: linear-gradient(135deg, #3d3d5c 0%, #2d2d44 100%);
    }

    /* Button Styling */
    .btn-generate {
      background: var(--primary-gradient);
      border: none;
      padding: 15px 50px;
      font-size: 1.2rem;
      font-weight: 600;
      border-radius: 50px;
      color: white;
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .btn-generate::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.2);
      transition: left 0.5s ease;
    }

    .btn-generate:hover::before {
      left: 100%;
    }

    .btn-generate:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
    }

    .btn-generate:active {
      transform: translateY(-1px);
    }

    /* Itinerary Display */
    .itinerary-card {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: var(--card-shadow);
      margin-top: 30px;
      border: 3px solid transparent;
      background-clip: padding-box;
      position: relative;
      animation: slideInUp 0.6s ease-out;
    }

    .itinerary-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--primary-gradient);
      border-radius: 20px;
      z-index: -1;
      margin: -3px;
    }

    .itinerary-card h3 {
      background: var(--primary-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      margin-bottom: 20px;
    }

    .itinerary-content {
      background: #f8f9fa;
      padding: 30px;
      border-radius: 15px;
      font-size: 1.05rem;
      line-height: 1.9;
      white-space: pre-wrap;
      max-height: 700px;
      overflow-y: auto;
      font-family: 'Poppins', monospace;
      letter-spacing: 0.3px;
      word-wrap: break-word;
    }

    /* Make links in itinerary clickable and styled */
    .itinerary-content a {
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      border-bottom: 2px solid transparent;
    }

    .itinerary-content a:hover {
      color: #764ba2;
      border-bottom: 2px solid #764ba2;
      transform: translateY(-1px);
    }

    .itinerary-content::-webkit-scrollbar {
      width: 10px;
    }

    .itinerary-content::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    .itinerary-content::-webkit-scrollbar-thumb {
      background: var(--primary-gradient);
      border-radius: 10px;
    }

    /* Gallery */
    .gallery-section {
      margin: 60px 0;
    }

    .gallery-section h2 {
      font-family: 'Playfair Display', serif;
      color: #667eea;
      font-size: 2.5rem;
      margin-bottom: 40px;
      text-align: center;
    }

    .gallery-item {
      position: relative;
      overflow: hidden;
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      transition: all 0.4s ease;
    }

    .gallery-item img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      transition: all 0.4s ease;
    }

    .gallery-item:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: var(--hover-shadow);
    }

    .gallery-item:hover img {
      transform: scale(1.2) rotate(2deg);
    }

    /* Pills/Tabs */
    .nav-pills .nav-link {
      background: linear-gradient(135deg, #e0e7ff 0%, #cffafe 100%);
      color: #667eea;
      border-radius: 50px;
      padding: 12px 20px;
      font-weight: 600;
      margin: 5px;
      transition: all 0.3s ease;
      border: 2px solid transparent;
      font-size: 0.95rem;
    }

    .nav-pills .nav-link:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    .nav-pills .nav-link.active {
      background: var(--primary-gradient);
      color: white;
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
    }

    .tab-content {
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      margin-top: 20px;
      animation: fadeIn 0.5s ease-out;
    }

    .tab-content h4 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: #2d3748;
    }

    .tab-content p {
      font-size: 1.05rem;
      line-height: 1.8;
      color: #4a5568;
    }

    body.dark-mode .tab-content h4 {
      color: #9ca3ff;
    }

    body.dark-mode .tab-content p {
      color: #cbd5e0;
    }

    /* Loading Animation */
    .btn-generate .spinner-border {
      width: 20px;
      height: 20px;
      border-width: 2px;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInDown {
      from {
        transform: translateY(-100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes slideInUp {
      from {
        transform: translateY(100px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    /* Modal Enhancement */
    .modal-content {
      border-radius: 20px;
      border: none;
      overflow: hidden;
    }

    .modal-header {
      background: var(--primary-gradient);
      color: white;
      border: none;
      padding: 25px;
    }

    .modal-title {
      font-weight: 600;
    }

    .modal-body {
      padding: 30px;
      font-size: 1.1rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-header h1 {
        font-size: 2rem;
      }
      
      .main-container {
        padding: 30px 20px;
        margin: -30px 15px 30px;
        border-radius: 20px;
      }
      
      .form-section {
        padding: 25px;
      }
    }

    /* Icon Styling */
    .form-label i {
      color: #667eea;
      font-size: 1.2rem;
    }

    /* Success Alert Animation */
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
      40% {transform: translateY(-10px);}
      60% {transform: translateY(-5px);}
    }

    .alert-success {
      animation: bounce 1s ease;
    }

    /* Dark Mode Styles */
    body.dark-mode {
      background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
    }

    body.dark-mode .main-container {
      background: #1a1a2e;
      color: #e0e0e0;
    }

    body.dark-mode .form-section {
      background: linear-gradient(135deg, #16213e 0%, #1a1a2e 100%);
      color: #e0e0e0;
    }

    body.dark-mode .form-section h2 {
      color: #9ca3ff;
    }

    body.dark-mode .form-label {
      color: #e0e0e0;
    }

    body.dark-mode .form-control,
    body.dark-mode .form-select {
      background: #2d2d44;
      border-color: #3d3d5c;
      color: #e0e0e0;
    }

    body.dark-mode .form-control:focus,
    body.dark-mode .form-select:focus {
      background: #3d3d5c;
      border-color: #667eea;
      color: #e0e0e0;
    }

    body.dark-mode .form-control::placeholder,
    body.dark-mode .form-select::placeholder {
      color: #a0a0c0;
      opacity: 1;
    }

    body.dark-mode .form-control::-webkit-input-placeholder,
    body.dark-mode .form-select::-webkit-input-placeholder {
      color: #a0a0c0;
      opacity: 1;
    }

    body.dark-mode .form-control::-moz-placeholder,
    body.dark-mode .form-select::-moz-placeholder {
      color: #a0a0c0;
      opacity: 1;
    }

    body.dark-mode .text-muted,
    body.dark-mode small.text-muted {
      color: #cbd5e0 !important;
    }

    body.dark-mode .itinerary-card {
      background: #1a1a2e;
      color: #e0e0e0;
    }

    body.dark-mode .itinerary-content {
      background: #2d2d44;
      color: #e0e0e0;
    }

    body.dark-mode .itinerary-content a {
      color: #9ca3ff;
    }

    body.dark-mode .itinerary-content a:hover {
      color: #b8bfff;
      border-bottom-color: #b8bfff;
    }

    body.dark-mode .gallery-section h2 {
      color: #9ca3ff;
    }

    body.dark-mode .gallery-section h3 {
      color: #e0e7ff !important;
    }

    body.dark-mode .gallery-section .text-muted {
      color: #e0e7ff !important;
    }

    body.dark-mode .tab-content {
      background: #2d2d44;
      color: #e0e0e0;
    }

    /* Dark Mode Toggle Button */
    .theme-toggle {
      position: relative;
      width: 60px;
      height: 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      display: flex;
      align-items: center;
      padding: 3px;
    }

    .theme-toggle:hover {
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.5);
      transform: scale(1.05);
    }

    .theme-toggle-slider {
      width: 24px;
      height: 24px;
      background: white;
      border-radius: 50%;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    body.dark-mode .theme-toggle {
      background: linear-gradient(135deg, #2d2d44 0%, #1a1a2e 100%);
    }

    body.dark-mode .theme-toggle-slider {
      transform: translateX(30px);
    }

    .theme-toggle-wrapper {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .theme-label {
      font-size: 0.9rem;
      font-weight: 500;
      color: rgba(255,255,255,0.8);
      display: none;
    }

    @media (min-width: 992px) {
      .theme-label {
        display: block;
      }
    }

    /* Interest Chips Styling */
    .interests-container {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 10px;
    }

    .interest-chip {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border: 2px solid #e2e8f0;
      border-radius: 50px;
      padding: 10px 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      color: #2d3748;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }

    .interest-chip:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      border-color: #667eea;
    }

    .interest-chip.selected {
      background: var(--primary-gradient);
      color: white;
      border-color: #667eea;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .interest-chip i {
      font-size: 1.1rem;
    }

    body.dark-mode .interest-chip {
      background: linear-gradient(135deg, #2d2d44 0%, #1a1a2e 100%);
      border-color: #3d3d5c;
      color: #e0e0e0;
    }

    body.dark-mode .interest-chip:hover {
      border-color: #9ca3ff;
    }

    body.dark-mode .interest-chip.selected {
      background: var(--primary-gradient);
      color: white;
      border-color: #9ca3ff;
    }

    /* Companion Chips Styling (same as interest chips) */
    .companion-chip {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border: 2px solid #e2e8f0;
      border-radius: 50px;
      padding: 10px 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      color: #2d3748;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }

    .companion-chip:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      border-color: #667eea;
    }

    .companion-chip.selected {
      background: var(--primary-gradient);
      color: white;
      border-color: #667eea;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .companion-chip i {
      font-size: 1.1rem;
    }

    body.dark-mode .companion-chip {
      background: linear-gradient(135deg, #2d2d44 0%, #1a1a2e 100%);
      border-color: #3d3d5c;
      color: #e0e0e0;
    }

    body.dark-mode .companion-chip:hover {
      border-color: #9ca3ff;
    }

    body.dark-mode .companion-chip.selected {
      background: var(--primary-gradient);
      color: white;
      border-color: #9ca3ff;
    }

    /* Feedback Section Styling */
    .feedback-section {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      padding: 40px;
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      margin: 60px 0 30px;
    }

    .feedback-section h2 {
      font-family: 'Playfair Display', serif;
      color: #667eea;
      font-size: 2rem;
      margin-bottom: 25px;
      text-align: center;
    }

    .feedback-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: start;
    }

    @media (max-width: 768px) {
      .feedback-row {
        grid-template-columns: 1fr;
        gap: 30px;
      }
    }

    .about-box h3 {
      font-family: 'Poppins', sans-serif;
      color: #667eea;
      font-size: 1.3rem;
      margin-bottom: 12px;
      font-weight: 600;
    }

    .about-box p {
      font-size: 0.95rem;
      line-height: 1.6;
      color: #4a5568;
      margin-bottom: 0;
    }

    .connect-box h3 {
      font-family: 'Poppins', sans-serif;
      color: #667eea;
      font-size: 1.3rem;
      margin-bottom: 12px;
      font-weight: 600;
    }

    .connect-intro {
      font-size: 0.95rem;
      color: #4a5568;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .team-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .team-member {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 0.9rem;
    }

    .team-member i {
      color: #667eea;
      font-size: 1rem;
    }

    .team-member strong {
      color: #2d3748;
      font-weight: 600;
      min-width: 120px;
    }

    .team-member a {
      color: #667eea;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .team-member a:hover {
      color: #764ba2;
      text-decoration: underline;
    }

    body.dark-mode .feedback-section {
      background: linear-gradient(135deg, #16213e 0%, #1a1a2e 100%);
    }

    body.dark-mode .feedback-section h2 {
      color: #9ca3ff;
    }

    body.dark-mode .about-box h3,
    body.dark-mode .connect-box h3 {
      color: #9ca3ff;
    }

    body.dark-mode .about-box p,
    body.dark-mode .connect-intro {
      color: #cbd5e0;
    }

    body.dark-mode .team-member strong {
      color: #e0e0e0;
    }

    body.dark-mode .team-member a {
      color: #9ca3ff;
    }

    body.dark-mode .team-member a:hover {
      color: #b8bfff;
    }

    /* Custom Alert Modal Styling */
    .custom-alert-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease-out;
    }

    .custom-alert-box {
      background: white;
      border-radius: 20px;
      padding: 30px 40px;
      max-width: 450px;
      width: 90%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: slideInUp 0.3s ease-out;
      text-align: center;
    }

    .custom-alert-box .alert-icon {
      font-size: 3rem;
      margin-bottom: 15px;
      color: #dc3545;
    }

    .custom-alert-box .alert-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 10px;
      font-family: 'Poppins', sans-serif;
    }

    .custom-alert-box .alert-message {
      font-size: 1rem;
      color: #4a5568;
      margin-bottom: 25px;
      line-height: 1.6;
    }

    .custom-alert-box .alert-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 40px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    .custom-alert-box .alert-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.5);
    }

    body.dark-mode .custom-alert-overlay {
      background: rgba(0, 0, 0, 0.8);
    }

    body.dark-mode .custom-alert-box {
      background: #1a1a2e;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
    }

    body.dark-mode .custom-alert-box .alert-title {
      color: #e0e0e0;
    }

    body.dark-mode .custom-alert-box .alert-message {
      color: #cbd5e0;
    }

    body.dark-mode .custom-alert-box .alert-icon {
      color: #f56565;
    }

    /* Print Styles - Only show itinerary when printing */
    @media print {
      /* Hide everything except the itinerary */
      body * {
        visibility: hidden;
      }
      
      #generatedItinerary,
      #generatedItinerary * {
        visibility: visible;
      }
      
      #generatedItinerary {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        margin: 0;
        padding: 20px;
        box-shadow: none;
        border: none;
      }
      
      /* Hide the download button in print */
      #generatedItinerary .btn-success {
        display: none !important;
      }
      
      /* Adjust itinerary content for print */
      .itinerary-content {
        max-height: none;
        overflow: visible;
        background: white !important;
        color: black !important;
        page-break-inside: avoid;
      }
      
      /* Ensure links are visible in print */
      .itinerary-content a {
        color: #667eea !important;
        text-decoration: underline;
      }
      
      /* Add page breaks for long content */
      .itinerary-content {
        orphans: 3;
        widows: 3;
      }
      
      /* Print in color */
      * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="hero-header text-center">
    <div class="container">
      <h1 data-aos="fade-down">
        <div class="plexo-logo">
          <div class="plexo-logo-icon"></div>
          <span class="plexo-logo-text">Plexo<span class="highlight">Travel</span></span>
        </div>
      </h1>
      <p class="lead" data-aos="fade-up" data-aos-delay="200">
        <i class="fas fa-magic"></i> Plan, Customize & Visualize Your Dream Trip with AI
      </p>
    </div>
  </header>

  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg modern-nav sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand text-white fw-bold" href="#">
        <div class="plexo-logo">
          <div class="plexo-logo-icon"></div>
          <span class="plexo-logo-text">Plexo<span class="highlight">Travel</span></span>
        </div>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
              data-bs-target="#navbarNav" aria-controls="navbarNav" 
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#"><i class="fas fa-home"></i> Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#form"><i class="fas fa-route"></i> Plan Trip</a></li>
          <li class="nav-item"><a class="nav-link" href="#gallery"><i class="fas fa-images"></i> Gallery</a></li>
          <li class="nav-item"><a class="nav-link" href="#preferences"><i class="fas fa-compass"></i> Preferences</a></li>
          <li class="nav-item"><a class="nav-link" href="#feedback"><i class="fas fa-comments"></i> Feedback</a></li>
          
          <!-- User Profile Section (Hidden until logged in) -->
          <li class="nav-item dropdown ms-3" id="userProfileSection" style="display: none;">
            <a class="nav-link dropdown-toggle d-flex align-items-center p-0" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img id="userPhoto" src="https://ui-avatars.com/api/?name=User&background=667eea&color=fff&size=128" alt="User" class="rounded-circle" style="width: 40px; height: 40px; object-fit: cover; border: 2px solid white; cursor: pointer;">
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="dashboard.html"><i class="fas fa-tachometer-alt me-2"></i> Dashboard</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#" id="logoutBtn"><i class="fas fa-sign-out-alt me-2"></i> Logout</a></li>
            </ul>
          </li>
          
          <li class="nav-item d-flex align-items-center ms-3">
            <div class="theme-toggle-wrapper">
              <span class="theme-label" id="themeLabel">Light Mode</span>
              <div class="theme-toggle" id="themeToggle">
                <div class="theme-toggle-slider">
                  <i class="fas fa-sun" id="themeIcon"></i>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Carousel -->
  <div id="demoCarousel" class="carousel slide" data-bs-ride="carousel" data-aos="fade-in">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#demoCarousel" data-bs-slide-to="0" class="active"></button>
      <button type="button" data-bs-target="#demoCarousel" data-bs-slide-to="1"></button>
      <button type="button" data-bs-target="#demoCarousel" data-bs-slide-to="2"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1200&q=80" class="d-block w-100" alt="Beach">
        <div class="carousel-caption">
          <h5><i class="fas fa-umbrella-beach"></i> Relax by the Beaches</h5>
          <p>Plan your perfect coastal getaway</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="https://images.unsplash.com/photo-1505761671935-60b3a7427bad?auto=format&fit=crop&w=1200&q=80" class="d-block w-100" alt="Mountains">
        <div class="carousel-caption">
          <h5><i class="fas fa-mountain"></i> Explore the Mountains</h5>
          <p>Adventure and scenic beauty await you</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba?auto=format&fit=crop&w=1200&q=80" class="d-block w-100" alt="City">
        <div class="carousel-caption">
          <h5><i class="fas fa-city"></i> Discover Cities</h5>
          <p>Culture, cuisine, and nightlife experiences</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#demoCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#demoCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

  <div class="container main-container">

    <!-- Alert -->
    <div class="alert alert-modern alert-dismissible fade show" role="alert" data-aos="zoom-in">
      <strong><i class="fas fa-sparkles"></i> Welcome!</strong> Start planning your journey with our AI-powered Travel Itinerary Planner.
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"></button>
    </div>

    <!-- Form -->
    <div id="form" class="form-section" data-aos="fade-up">
      <h2><i class="fas fa-map-signs"></i> Plan Your Trip</h2>
      <form id="itineraryForm">
        <div class="mb-4">
          <label class="form-label">
            <i class="fas fa-map-marker-alt"></i> Destination(s)
          </label>
          <input type="text" class="form-control" id="destination" placeholder="e.g., Paris, Tokyo, Bali..." required autocomplete="off">
          <div id="destinationSuggestions" class="list-group position-absolute" style="z-index: 1000; max-height: 200px; overflow-y: auto; display: none;"></div>
          <small class="text-muted mt-2 d-block">
            <i class="fas fa-info-circle"></i> Enter a valid city or destination name
          </small>
        </div>
        <div class="mb-4">
          <label class="form-label">
            <i class="fas fa-calendar-alt"></i> Travel Dates (Start - End)
          </label>
          <div class="row g-2">
            <div class="col-md-6">
              <input type="date" class="form-control" id="startDate" placeholder="Start Date" required>
              <small class="text-muted">Start Date</small>
            </div>
            <div class="col-md-6">
              <input type="date" class="form-control" id="endDate" placeholder="End Date" required>
              <small class="text-muted">End Date</small>
            </div>
          </div>
          <small class="text-muted mt-2 d-block">
            <i class="fas fa-info-circle"></i> Select your trip start and end dates
          </small>
        </div>
        <div class="mb-4">
          <label class="form-label">
            <i class="fas fa-wallet"></i> Budget (₹) <span class="text-danger">*</span>
          </label>
          <input type="number" class="form-control" id="budget" placeholder="Enter your budget (Required)" required min="0" step="1">
          <small class="text-muted mt-2 d-block">
            <i class="fas fa-info-circle"></i> Budget must be a positive value
          </small>
        </div>
        <div class="mb-4">
          <label class="form-label">
            <i class="fas fa-user-friends"></i> Travel Companions
          </label>
          <div class="interests-container">
            <div class="companion-chip" data-value="Solo">
              <i class="fas fa-user"></i> Solo
            </div>
            <div class="companion-chip" data-value="Couple">
              <i class="fas fa-heart"></i> Couple
            </div>
            <div class="companion-chip" data-value="Family">
              <i class="fas fa-users"></i> Family
            </div>
            <div class="companion-chip" data-value="Friends">
              <i class="fas fa-user-friends"></i> Friends
            </div>
            <div class="companion-chip" data-value="Group">
              <i class="fas fa-people-group"></i> Group
            </div>
          </div>
          <input type="hidden" id="travelCompanion" required>
          <small class="text-muted mt-2 d-block">
            <i class="fas fa-info-circle"></i> Click to select your travel group (select one)
          </small>
        </div>
        <div class="mb-4">
          <label class="form-label">
            <i class="fas fa-heart"></i> Interests (Select multiple)
          </label>
          <div class="interests-container">
            <div class="interest-chip" data-value="Culture">
              <i class="fas fa-theater-masks"></i> Culture
            </div>
            <div class="interest-chip" data-value="Adventure">
              <i class="fas fa-mountain"></i> Adventure
            </div>
            <div class="interest-chip" data-value="Cuisine">
              <i class="fas fa-utensils"></i> Cuisine
            </div>
            <div class="interest-chip" data-value="Relaxation">
              <i class="fas fa-spa"></i> Relaxation
            </div>
            <div class="interest-chip" data-value="History">
              <i class="fas fa-landmark"></i> History
            </div>
            <div class="interest-chip" data-value="Nature">
              <i class="fas fa-tree"></i> Nature
            </div>
            <div class="interest-chip" data-value="Shopping">
              <i class="fas fa-shopping-bag"></i> Shopping
            </div>
            <div class="interest-chip" data-value="Nightlife">
              <i class="fas fa-cocktail"></i> Nightlife
            </div>
            <div class="interest-chip" data-value="Photography">
              <i class="fas fa-camera"></i> Photography
            </div>
            <div class="interest-chip" data-value="Wildlife">
              <i class="fas fa-paw"></i> Wildlife
            </div>
            <div class="interest-chip" data-value="Beach">
              <i class="fas fa-umbrella-beach"></i> Beach
            </div>
            <div class="interest-chip" data-value="Spiritual">
              <i class="fas fa-om"></i> Spiritual
            </div>
            <div class="interest-chip" data-value="Sports">
              <i class="fas fa-basketball-ball"></i> Sports
            </div>
            <div class="interest-chip" data-value="Art">
              <i class="fas fa-palette"></i> Art
            </div>
            <div class="interest-chip" data-value="Music">
              <i class="fas fa-music"></i> Music
            </div>
          </div>
          <input type="hidden" id="interest" required>
          <small class="text-muted mt-2 d-block">
            <i class="fas fa-info-circle"></i> Click to select/deselect interests
          </small>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-generate" id="generateBtn">
            <span id="btnText"><i class="fas fa-magic"></i> Generate Itinerary</span>
            <span id="btnSpinner" class="spinner-border spinner-border-sm d-none ms-2" role="status" aria-hidden="true"></span>
          </button>
        </div>
      </form>
    </div>

    <!-- Generated Itinerary Display -->
    <div id="generatedItinerary" class="itinerary-card d-none">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 id="itineraryTitle" class="mb-0"><i class="fas fa-route"></i> Your Custom Itinerary</h3>
        <button class="btn btn-outline-danger btn-sm" id="clearItineraryBtn" title="Clear itinerary and start fresh">
          <i class="fas fa-times"></i> Clear
        </button>
      </div>
      <div class="itinerary-content" id="itineraryContent"></div>
      <div class="text-center mt-4">
        <button class="btn btn-success" id="downloadPdfBtn">
          <i class="fas fa-download"></i> Download as PDF
        </button>
      </div>
    </div>

    <hr class="my-5">

    <!-- Image Gallery -->
    <div id="gallery" class="gallery-section" data-aos="fade-up">
      <h2><i class="fas fa-camera-retro"></i> Destination Gallery</h2>
      <div class="container">
        <div class="row mb-3">
          <div class="col-12 text-center">
            <h3 id="gallery-destination" class="text-muted">Select a destination to see photos</h3>
          </div>
        </div>
        <div class="row g-4" id="gallery-container">
          <!-- Images will be loaded automatically based on destination -->
          <div class="col-sm-6 col-md-4 col-lg-4" data-aos="zoom-in" data-aos-delay="100">
            <div class="gallery-item">
              <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=500&q=80" class="img-fluid rounded" alt="Travel">
            </div>
          </div>
          <div class="col-sm-6 col-md-4 col-lg-4" data-aos="zoom-in" data-aos-delay="200">
            <div class="gallery-item">
              <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=500&q=80" class="img-fluid rounded" alt="Travel">
            </div>
          </div>
          <div class="col-sm-6 col-md-4 col-lg-4" data-aos="zoom-in" data-aos-delay="300">
            <div class="gallery-item">
              <img src="https://images.unsplash.com/photo-1505761671935-60b3a7427bad?auto=format&fit=crop&w=500&q=80" class="img-fluid rounded" alt="Travel">
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3" data-aos="zoom-in" data-aos-delay="400">
          <div class="gallery-item">
            <img src="https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba?auto=format&fit=crop&w=500&q=80" class="img-fluid rounded" alt="Travel">
          </div>
        </div>
      </div>
    </div>

    <hr class="my-5">

    <!-- Tabs/Pills -->
    <div id="preferences" data-aos="fade-up">
      <h2 class="text-center mb-4" style="font-family: 'Playfair Display', serif; color: #667eea; font-size: 2.5rem;">
        <i class="fas fa-compass"></i> Travel Preferences Guide
      </h2>
      <ul class="nav nav-pills mb-3 justify-content-center flex-wrap" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="pills-culture-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-culture" type="button">
            <i class="fas fa-theater-masks"></i> Culture
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-adventure-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-adventure" type="button">
            <i class="fas fa-mountain"></i> Adventure
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-cuisine-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-cuisine" type="button">
            <i class="fas fa-utensils"></i> Cuisine
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-relaxation-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-relaxation" type="button">
            <i class="fas fa-spa"></i> Relaxation
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-history-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-history" type="button">
            <i class="fas fa-landmark"></i> History
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-nature-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-nature" type="button">
            <i class="fas fa-tree"></i> Nature
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-shopping-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-shopping" type="button">
            <i class="fas fa-shopping-bag"></i> Shopping
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-nightlife-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-nightlife" type="button">
            <i class="fas fa-cocktail"></i> Nightlife
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-photography-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-photography" type="button">
            <i class="fas fa-camera"></i> Photography
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-wildlife-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-wildlife" type="button">
            <i class="fas fa-paw"></i> Wildlife
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-beach-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-beach" type="button">
            <i class="fas fa-umbrella-beach"></i> Beach
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-spiritual-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-spiritual" type="button">
            <i class="fas fa-om"></i> Spiritual
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-sports-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-sports" type="button">
            <i class="fas fa-basketball-ball"></i> Sports
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-art-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-art" type="button">
            <i class="fas fa-palette"></i> Art
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-music-tab" data-bs-toggle="pill" 
                  data-bs-target="#pills-music" type="button">
            <i class="fas fa-music"></i> Music
          </button>
        </li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane fade show active" id="pills-culture">
          <h4><i class="fas fa-theater-masks text-primary"></i> Culture</h4>
          <p>Immerse yourself in the rich cultural heritage of your destination. Explore museums, art galleries, theaters, and cultural festivals. Visit historical monuments, attend traditional performances, and learn about local customs and traditions. Perfect for those who want to understand the soul of a place through its art, architecture, and cultural expressions.</p>
        </div>
        <div class="tab-pane fade" id="pills-adventure">
          <h4><i class="fas fa-mountain text-primary"></i> Adventure</h4>
          <p>Get your adrenaline pumping with thrilling outdoor activities! Experience trekking through rugged terrains, rock climbing, white-water rafting, paragliding, bungee jumping, and zip-lining. Perfect for adventure seekers who crave excitement and want to push their limits while enjoying breathtaking natural landscapes.</p>
        </div>
        <div class="tab-pane fade" id="pills-cuisine">
          <h4><i class="fas fa-utensils text-primary"></i> Cuisine</h4>
          <p>Embark on a gastronomic journey and savor the authentic flavors of your destination. Discover local street food, fine dining experiences, cooking classes, food markets, and traditional restaurants. Meet local chefs, learn regional recipes, and taste unique dishes that define the culinary identity of the place.</p>
        </div>
        <div class="tab-pane fade" id="pills-relaxation">
          <h4><i class="fas fa-spa text-primary"></i> Relaxation</h4>
          <p>Unwind and rejuvenate with peaceful and calming experiences. Enjoy spa treatments, yoga sessions, meditation retreats, wellness centers, and tranquil natural settings. Perfect for those seeking to escape the hustle and bustle, reduce stress, and restore balance through mindful and soothing activities.</p>
        </div>
        <div class="tab-pane fade" id="pills-history">
          <h4><i class="fas fa-landmark text-primary"></i> History</h4>
          <p>Step back in time and explore the fascinating historical narratives of your destination. Visit ancient ruins, archaeological sites, historical monuments, palaces, forts, and UNESCO World Heritage Sites. Learn about significant historical events, civilizations, and the stories that shaped the region through guided tours and museum exhibitions.</p>
        </div>
        <div class="tab-pane fade" id="pills-nature">
          <h4><i class="fas fa-tree text-primary"></i> Nature</h4>
          <p>Connect with the great outdoors and experience the natural beauty of your destination. Explore national parks, forests, gardens, lakes, rivers, and scenic viewpoints. Enjoy hiking, bird watching, camping, and nature walks while appreciating diverse ecosystems, flora, and fauna in their natural habitat.</p>
        </div>
        <div class="tab-pane fade" id="pills-shopping">
          <h4><i class="fas fa-shopping-bag text-primary"></i> Shopping</h4>
          <p>Indulge in retail therapy and discover unique souvenirs and local products. Browse through bustling markets, artisan shops, luxury boutiques, shopping malls, and craft centers. Find traditional handicrafts, textiles, jewelry, local specialties, and contemporary fashion items to take home memorable keepsakes.</p>
        </div>
        <div class="tab-pane fade" id="pills-nightlife">
          <h4><i class="fas fa-cocktail text-primary"></i> Nightlife</h4>
          <p>Experience the vibrant after-dark scene of your destination. Explore trendy bars, nightclubs, live music venues, rooftop lounges, and entertainment districts. Enjoy cocktails, dance to local and international music, attend nighttime events, and socialize with locals and fellow travelers in the city's hottest spots.</p>
        </div>
        <div class="tab-pane fade" id="pills-photography">
          <h4><i class="fas fa-camera text-primary"></i> Photography</h4>
          <p>Capture stunning visual memories and perfect your photography skills. Visit picturesque locations, iconic landmarks, hidden gems, and scenic viewpoints ideal for photography. Join photo walks, discover golden hour spots, and learn about local photography techniques while building an impressive travel portfolio.</p>
        </div>
        <div class="tab-pane fade" id="pills-wildlife">
          <h4><i class="fas fa-paw text-primary"></i> Wildlife</h4>
          <p>Encounter amazing animals in their natural habitats. Explore wildlife sanctuaries, safari parks, marine reserves, and conservation areas. Observe diverse species including big cats, elephants, birds, marine life, and exotic animals. Perfect for nature enthusiasts and animal lovers seeking authentic wildlife experiences.</p>
        </div>
        <div class="tab-pane fade" id="pills-beach">
          <h4><i class="fas fa-umbrella-beach text-primary"></i> Beach</h4>
          <p>Relax on pristine sandy shores and enjoy coastal paradise. Experience sunbathing, swimming, snorkeling, surfing, beach sports, and seaside dining. Explore tropical beaches, secluded coves, and vibrant beach towns. Perfect for sun seekers and water enthusiasts looking for the ultimate beach vacation.</p>
        </div>
        <div class="tab-pane fade" id="pills-spiritual">
          <h4><i class="fas fa-om text-primary"></i> Spiritual</h4>
          <p>Embark on a journey of inner peace and spiritual discovery. Visit temples, monasteries, churches, shrines, and sacred sites. Participate in meditation sessions, prayer ceremonies, spiritual retreats, and pilgrimage routes. Connect with local spiritual practices and find tranquility through meaningful experiences.</p>
        </div>
        <div class="tab-pane fade" id="pills-sports">
          <h4><i class="fas fa-basketball-ball text-primary"></i> Sports</h4>
          <p>Engage in active and competitive recreational activities. Enjoy golf, tennis, cycling, water sports, skiing, hiking, and local sports experiences. Visit sports stadiums, attend live sporting events, or participate in adventure sports. Perfect for fitness enthusiasts and sports lovers seeking an active vacation.</p>
        </div>
        <div class="tab-pane fade" id="pills-art">
          <h4><i class="fas fa-palette text-primary"></i> Art</h4>
          <p>Discover the artistic soul of your destination. Visit art galleries, contemporary art museums, street art districts, artist studios, and sculpture parks. Attend art exhibitions, workshops, and creative events. Explore various art forms from classical masterpieces to modern installations and local artistic movements.</p>
        </div>
        <div class="tab-pane fade" id="pills-music">
          <h4><i class="fas fa-music text-primary"></i> Music</h4>
          <p>Experience the rhythmic heartbeat of your destination. Attend live concerts, music festivals, opera houses, jazz clubs, and traditional music performances. Discover local musical heritage, visit music museums, and enjoy diverse genres from classical symphonies to contemporary beats and folk traditions.</p>
        </div>
      </div>
    </div>

    <hr class="my-5">

    <!-- Feedback and Contact Section -->
    <div id="feedback" class="feedback-section" data-aos="fade-up">
      <h2><i class="fas fa-comments"></i> About & Feedback</h2>
      
      <div class="feedback-row">
        <!-- About Summary -->
        <div class="about-box" data-aos="fade-right" data-aos-delay="100">
          <h3><i class="fas fa-info-circle"></i> What We Do</h3>
          <p>
            Our AI-powered platform creates personalized travel itineraries tailored to your interests and preferences. Select your destinations, interests, and travel duration, and let our intelligent system craft the perfect journey for you.
          </p>
        </div>

        <!-- Connect With Us -->
        <div class="connect-box" data-aos="fade-left" data-aos-delay="200">
          <h3><i class="fas fa-envelope"></i> Connect With Us</h3>
          <p class="connect-intro">
            Have feedback or questions? We'd love to hear from you! Reach out to our team:
          </p>
          <div class="team-list">
            <div class="team-member">
              <i class="fas fa-user"></i>
              <strong>Nihith Reddy</strong>
              <a href="mailto:anihithreddy132@gmail.com">anihithreddy132@gmail.com</a>
            </div>
            <div class="team-member">
              <i class="fas fa-user"></i>
              <strong>Rithwik Reddy</strong>
              <a href="mailto:rithwikreddy27@gmail.com">rithwikreddy27@gmail.com</a>
            </div>
            <div class="team-member">
              <i class="fas fa-user"></i>
              <strong>Aryan Sai</strong>
              <a href="mailto:aryansaienugula@gmail.com">aryansaienugula@gmail.com</a>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div> <!-- End Container -->

  <!-- Bootstrap JS (Load first) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getAuth, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBBWMn8wuLwHfRdKRbRZZTH7EeOmZiIiR4",
      authDomain: "travel-planner-5f52c.firebaseapp.com",
      projectId: "travel-planner-5f52c",
      storageBucket: "travel-planner-5f52c.firebasestorage.app",
      messagingSenderId: "242478277763",
      appId: "1:242478277763:web:4508544b42aa0fe7bce7b6"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const googleProvider = new GoogleAuthProvider();
    
    // Make auth globally accessible for other scripts
    window.firebaseAuth = auth;

    // Check authentication state on page load
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        // User is signed in, show content
        console.log('User authenticated:', user.email);
        
        // Update user profile in navbar
        document.getElementById('userProfileSection').style.display = 'block';
        
        // Set profile photo with fallback
        const userPhotoElement = document.getElementById('userPhoto');
        const displayName = user.displayName || user.email.split('@')[0];
        const fallbackUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(displayName)}&background=667eea&color=fff&size=128`;
        
        if (user.photoURL) {
          userPhotoElement.src = user.photoURL;
          // Add error handler to fall back to avatar if photo fails to load
          userPhotoElement.onerror = function() {
            console.log('Failed to load user photo, using fallback');
            this.onerror = null; // Prevent infinite loop
            this.src = fallbackUrl;
          };
        } else {
          userPhotoElement.src = fallbackUrl;
        }
        
        // Sync user with backend
        try {
          const token = await user.getIdToken();
          await fetch('http://localhost:3001/api/auth/sync-user', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${token}`
            }
          });
        } catch (error) {
          console.error('Error syncing user:', error);
        }
      } else {
        // User is not signed in, redirect to login page
        console.log('No user authenticated, redirecting to login...');
        window.location.href = 'login.html';
      }
    });

    // Logout functionality
    document.addEventListener('click', (e) => {
      if (e.target && (e.target.id === 'logoutBtn' || e.target.closest('#logoutBtn'))) {
        e.preventDefault();
        auth.signOut().then(() => {
          console.log('User signed out successfully');
          // Redirect to login page
          window.location.href = 'login.html';
        }).catch((error) => {
          console.error('Logout error:', error);
        });
      }
    });

    // Make auth available globally for other scripts
    window.firebaseAuth = auth;
  </script>

  <!-- AOS Animation -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <!-- Custom JavaScript for API Integration -->
  <script>
    // Initialize AOS
    AOS.init({
      duration: 800,
      once: true,
      offset: 100
    });

    // ==========================================
    // RESTORE ITINERARY ON PAGE LOAD
    // ==========================================
    function restoreItinerary() {
      const savedItinerary = localStorage.getItem('currentItinerary');
      if (savedItinerary) {
        try {
          const itineraryData = JSON.parse(savedItinerary);
          const itineraryDisplay = document.getElementById('generatedItinerary');
          const itineraryContent = document.getElementById('itineraryContent');
          const itineraryTitle = document.getElementById('itineraryTitle');
          
          // Restore the itinerary content
          itineraryContent.innerHTML = itineraryData.html;
          itineraryTitle.innerHTML = `<i class="fas fa-route"></i> ${itineraryData.title}`;
          itineraryDisplay.classList.remove('d-none');
          
          console.log('✅ Itinerary restored from localStorage');
          
          // Also restore the gallery for the destination (without scrolling)
          if (itineraryData.destination) {
            updateGallery(itineraryData.destination, false);
          }
        } catch (error) {
          console.error('Error restoring itinerary:', error);
          localStorage.removeItem('currentItinerary');
        }
      }
    }

    // Call restore function when page loads
    restoreItinerary();

    // Clear itinerary button functionality
    document.getElementById('clearItineraryBtn')?.addEventListener('click', () => {
      if (confirm('Are you sure you want to clear the current itinerary?')) {
        localStorage.removeItem('currentItinerary');
        document.getElementById('generatedItinerary').classList.add('d-none');
        document.getElementById('itineraryContent').innerHTML = '';
        document.getElementById('itineraryTitle').innerHTML = '<i class="fas fa-route"></i> Your Custom Itinerary';
        showAlert('info', '🗑️ Itinerary cleared. Create a new one above!');
        
        // Scroll back to form
        document.getElementById('itineraryForm').scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });

    // ==========================================
    // DATE PICKER CONFIGURATION
    // ==========================================
    // Set minimum date for date pickers (today)
    const today = new Date().toISOString().split('T')[0];
    const startDateInput = document.getElementById('startDate');
    const endDateInput = document.getElementById('endDate');
    
    startDateInput.setAttribute('min', today);
    endDateInput.setAttribute('min', today);
    
    // Update end date minimum when start date changes
    startDateInput.addEventListener('change', () => {
      const start = new Date(startDateInput.value);
      const minEndDate = new Date(start);
      minEndDate.setDate(start.getDate() + 1); // End date must be at least 1 day after start
      endDateInput.setAttribute('min', minEndDate.toISOString().split('T')[0]);
      
      // Clear end date if it's before the new minimum
      if (endDateInput.value && new Date(endDateInput.value) <= start) {
        endDateInput.value = '';
      }
    });

    // Interest Chips Selection
    const selectedInterests = new Set();
    const interestChips = document.querySelectorAll('.interest-chip');
    const interestInput = document.getElementById('interest');

    interestChips.forEach(chip => {
      chip.addEventListener('click', () => {
        const value = chip.getAttribute('data-value');
        
        if (selectedInterests.has(value)) {
          selectedInterests.delete(value);
          chip.classList.remove('selected');
        } else {
          selectedInterests.add(value);
          chip.classList.add('selected');
        }
        
        // Update hidden input value
        interestInput.value = Array.from(selectedInterests).join(', ');
      });
    });

    // Travel Companion Chips Selection (single selection)
    const companionChips = document.querySelectorAll('.companion-chip');
    const companionInput = document.getElementById('travelCompanion');

    companionChips.forEach(chip => {
      chip.addEventListener('click', () => {
        const value = chip.getAttribute('data-value');
        
        // Remove 'selected' class from all companion chips
        companionChips.forEach(c => c.classList.remove('selected'));
        
        // Add 'selected' class to clicked chip
        chip.classList.add('selected');
        
        // Update hidden input value
        companionInput.value = value;
      });
    });

    // Dark Mode Toggle
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const themeLabel = document.getElementById('themeLabel');
    const body = document.body;

    // Check for saved theme preference or default to 'light'
    const currentTheme = localStorage.getItem('theme') || 'light';
    if (currentTheme === 'dark') {
      body.classList.add('dark-mode');
      themeIcon.classList.remove('fa-sun');
      themeIcon.classList.add('fa-moon');
      themeLabel.textContent = 'Dark Mode';
    }

    // Theme toggle functionality
    themeToggle.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      
      // Update icon and label
      if (body.classList.contains('dark-mode')) {
        themeIcon.classList.remove('fa-sun');
        themeIcon.classList.add('fa-moon');
        themeLabel.textContent = 'Dark Mode';
        localStorage.setItem('theme', 'dark');
        
        // Show notification
        showThemeNotification('🌙 Dark mode activated!');
      } else {
        themeIcon.classList.remove('fa-moon');
        themeIcon.classList.add('fa-sun');
        themeLabel.textContent = 'Light Mode';
        localStorage.setItem('theme', 'light');
        
        // Show notification
        showThemeNotification('☀️ Light mode activated!');
      }
    });

    // Theme notification function
    function showThemeNotification(message) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px 25px;
        border-radius: 50px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        z-index: 10000;
        font-weight: 500;
        animation: slideInRight 0.5s ease-out;
      `;
      notification.textContent = message;
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.style.animation = 'slideOutRight 0.5s ease-out';
        setTimeout(() => notification.remove(), 500);
      }, 2000);
    }

    const API_URL = 'http://localhost:3001/api/generate-itinerary';
    
    // Custom Alert Function (Dark Mode Compatible)
    function showCustomAlert(title, message) {
      // Create overlay
      const overlay = document.createElement('div');
      overlay.className = 'custom-alert-overlay';
      
      // Create alert box
      overlay.innerHTML = `
        <div class="custom-alert-box">
          <div class="alert-icon">❌</div>
          <div class="alert-title">${title}</div>
          <div class="alert-message">${message}</div>
          <button class="alert-button" onclick="this.closest('.custom-alert-overlay').remove()">OK</button>
        </div>
      `;
      
      document.body.appendChild(overlay);
      
      // Close on overlay click
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          overlay.remove();
        }
      });
      
      // Close on Escape key
      const closeOnEscape = (e) => {
        if (e.key === 'Escape') {
          overlay.remove();
          document.removeEventListener('keydown', closeOnEscape);
        }
      };
      document.addEventListener('keydown', closeOnEscape);
    }
    
    // Destination validation with autocomplete
    let selectedDestination = null;
    let typingTimer;
    const destinationInput = document.getElementById('destination');
    const suggestionsDiv = document.getElementById('destinationSuggestions');
    
    // Debounce function for API calls
    function debounce(func, wait) {
      return function executedFunction(...args) {
        clearTimeout(typingTimer);
        typingTimer = setTimeout(() => func(...args), wait);
      };
    }
    
    // Fetch destination suggestions from Nominatim (OpenStreetMap)
    async function fetchDestinationSuggestions(query) {
      if (query.length < 3) {
        suggestionsDiv.style.display = 'none';
        return;
      }
      
      try {
        const response = await fetch(
          `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(query)}&format=json&addressdetails=1&limit=5&featuretype=city`
        );
        const data = await response.json();
        
        if (data.length > 0) {
          displaySuggestions(data);
        } else {
          suggestionsDiv.style.display = 'none';
        }
      } catch (error) {
        console.error('Error fetching suggestions:', error);
        suggestionsDiv.style.display = 'none';
      }
    }
    
    // Display suggestions
    function displaySuggestions(suggestions) {
      suggestionsDiv.innerHTML = '';
      suggestionsDiv.style.display = 'block';
      
      suggestions.forEach(place => {
        const item = document.createElement('button');
        item.type = 'button';
        item.className = 'list-group-item list-group-item-action';
        item.style.cursor = 'pointer';
        
        // Format display name
        const displayName = place.display_name.split(',').slice(0, 3).join(',');
        item.textContent = displayName;
        
        item.addEventListener('click', () => {
          destinationInput.value = place.display_name.split(',')[0];
          selectedDestination = place;
          suggestionsDiv.style.display = 'none';
          destinationInput.classList.remove('is-invalid');
          destinationInput.classList.add('is-valid');
        });
        
        suggestionsDiv.appendChild(item);
      });
    }
    
    // Input event listener with debounce
    destinationInput.addEventListener('input', debounce((e) => {
      const query = e.target.value.trim();
      selectedDestination = null;
      destinationInput.classList.remove('is-valid', 'is-invalid');
      
      if (query) {
        fetchDestinationSuggestions(query);
      } else {
        suggestionsDiv.style.display = 'none';
      }
    }, 500));
    
    // Hide suggestions when clicking outside
    document.addEventListener('click', (e) => {
      if (!destinationInput.contains(e.target) && !suggestionsDiv.contains(e.target)) {
        suggestionsDiv.style.display = 'none';
      }
    });
    
    // Validate destination before form submission
    async function validateDestination(destination) {
      try {
        const response = await fetch(
          `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(destination)}&format=json&limit=1`
        );
        const data = await response.json();
        return data.length > 0;
      } catch (error) {
        console.error('Error validating destination:', error);
        return false;
      }
    }
    
    // Download PDF functionality
    document.getElementById('downloadPdfBtn').addEventListener('click', () => {
      // Add a title with trip details before printing
      const destination = document.getElementById('destination').value;
      const startDate = document.getElementById('startDate').value;
      const endDate = document.getElementById('endDate').value;
      
      const originalTitle = document.title;
      document.title = `Travel Itinerary - ${destination} (${startDate} to ${endDate})`;
      
      // Trigger print
      window.print();
      
      // Restore original title after print dialog closes
      setTimeout(() => {
        document.title = originalTitle;
      }, 1000);
    });
    
    document.getElementById('itineraryForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Get form values
      const destination = document.getElementById('destination').value;
      const interest = document.getElementById('interest').value;
      const budget = document.getElementById('budget').value;
      const startDate = document.getElementById('startDate').value;
      const endDate = document.getElementById('endDate').value;
      const travelCompanion = document.getElementById('travelCompanion').value;
      
      // Validate inputs
      if (!destination || !interest || !startDate || !endDate || !travelCompanion || !budget) {
        showAlert('warning', '⚠️ Please fill in all required fields! Make sure to select at least one interest, travel companions, budget, and provide travel dates.');
        return;
      }

      // Validate destination is a real place
      destinationInput.classList.remove('is-valid', 'is-invalid');
      const isValidDestination = await validateDestination(destination);
      
      if (!isValidDestination) {
        destinationInput.classList.add('is-invalid');
        showCustomAlert('Invalid Destination!', 'Please enter a valid city or place name. Use the autocomplete suggestions to select a valid destination.');
        destinationInput.focus();
        return;
      }
      
      destinationInput.classList.add('is-valid');

      // Validate budget is not negative
      const budgetValue = parseFloat(budget);
      if (budgetValue < 0) {
        showCustomAlert('Invalid Budget!', 'Budget cannot be negative. Please enter a valid positive amount.');
        document.getElementById('budget').focus();
        return;
      }

      if (budgetValue === 0) {
        showCustomAlert('Invalid Budget!', 'Budget must be greater than zero. Please enter a valid amount.');
        document.getElementById('budget').focus();
        return;
      }
      
      // Validate date range
      const start = new Date(startDate);
      const end = new Date(endDate);
      const todayDate = new Date();
      todayDate.setHours(0, 0, 0, 0);
      
      if (start < todayDate) {
        showAlert('warning', '⚠️ Start date cannot be in the past!');
        return;
      }
      
      if (end <= start) {
        showAlert('warning', '⚠️ End date must be after start date!');
        return;
      }
      
      // Calculate number of days from date range
      const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24));
      
      // Validate maximum trip duration (20 days)
      if (days > 20) {
        showCustomAlert('Trip Too Long!', 'Maximum trip duration is 20 days. Please adjust your dates to create a shorter itinerary.');
        return;
      }
      
      // Show loading state
      const generateBtn = document.getElementById('generateBtn');
      const btnText = document.getElementById('btnText');
      const btnSpinner = document.getElementById('btnSpinner');
      const itineraryDisplay = document.getElementById('generatedItinerary');
      const itineraryContent = document.getElementById('itineraryContent');
      
      generateBtn.disabled = true;
      btnText.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating Your Dream Trip...';
      btnSpinner.classList.remove('d-none');
      itineraryDisplay.classList.add('d-none');
      
      try {
        // Get auth token if user is logged in
        const user = window.firebaseAuth?.currentUser;
        let headers = {
          'Content-Type': 'application/json',
        };
        
        if (user) {
          const token = await user.getIdToken();
          headers['Authorization'] = `Bearer ${token}`;
        }
        
        // Make API call to backend
        const response = await fetch(API_URL, {
          method: 'POST',
          headers: headers,
          body: JSON.stringify({
            destination: destination,
            days: days,
            interest: interest,
            budget: parseInt(budget),
            startDate: startDate,
            endDate: endDate,
            travelCompanion: travelCompanion
          })
        });
        
        if (!response.ok) {
          const errorData = await response.json();
          throw new Error(errorData.error || 'Failed to generate itinerary');
        }
        
        const data = await response.json();
        
        // Display the generated itinerary with animation
        // Convert URLs to clickable links
        const itineraryText = data.itinerary;
        const itineraryHTML = itineraryText.replace(
          /(https?:\/\/[^\s]+)/g, 
          '<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>'
        );
        
        itineraryContent.innerHTML = itineraryHTML;
        itineraryDisplay.classList.remove('d-none');
        
        // Update the itinerary title
        const itineraryTitle = document.getElementById('itineraryTitle');
        itineraryTitle.innerHTML = `<i class="fas fa-route"></i> ${destination} - ${days} Days`;
        
        // Save itinerary to localStorage for persistence
        const itineraryData = {
          html: itineraryHTML,
          title: `${destination} - ${days} Days`,
          destination: destination,
          days: days,
          timestamp: new Date().toISOString()
        };
        localStorage.setItem('currentItinerary', JSON.stringify(itineraryData));
        
        // Scroll to the itinerary smoothly
        setTimeout(() => {
          itineraryDisplay.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
        
        // Show success message with confetti effect
        showAlert('success', '🎉 Your custom itinerary is ready! Scroll down to view.');
        
        // Add confetti effect
        createConfetti();
        
      } catch (error) {
        console.error('Error:', error);
        showAlert('danger', `❌ Error: ${error.message}`);
      } finally {
        // Reset button state
        generateBtn.disabled = false;
        btnText.innerHTML = '<i class="fas fa-magic"></i> Generate Itinerary';
        btnSpinner.classList.add('d-none');
      }
    });
    
    // Helper function to show alerts with animation
    function showAlert(type, message) {
      // Remove existing alerts
      const existingAlerts = document.querySelectorAll('.dynamic-alert');
      existingAlerts.forEach(alert => alert.remove());
      
      const alertDiv = document.createElement('div');
      alertDiv.className = `alert alert-${type} alert-dismissible fade show mt-3 dynamic-alert`;
      alertDiv.style.cssText = 'border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); animation: slideInDown 0.5s ease-out;';
      alertDiv.role = 'alert';
      alertDiv.innerHTML = `
        ${message}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      `;
      
      const form = document.getElementById('itineraryForm');
      form.parentNode.insertBefore(alertDiv, form.nextSibling);
      
      // Auto-dismiss after 5 seconds
      setTimeout(() => {
        alertDiv.style.animation = 'fadeOut 0.5s ease-out';
        setTimeout(() => alertDiv.remove(), 500);
      }, 5000);
    }
    
    // Confetti effect
    function createConfetti() {
      const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe', '#00f2fe'];
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.style.cssText = `
            position: fixed;
            width: 10px;
            height: 10px;
            background: ${colors[Math.floor(Math.random() * colors.length)]};
            top: -10px;
            left: ${Math.random() * 100}%;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            animation: fall ${2 + Math.random() * 2}s linear forwards;
          `;
          document.body.appendChild(confetti);
          
          setTimeout(() => confetti.remove(), 4000);
        }, i * 30);
      }
    }
    
    // Add fall animation
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
      @keyframes fadeOut {
        from { opacity: 1; transform: translateY(0); }
        to { opacity: 0; transform: translateY(-20px); }
      }
      @keyframes slideInRight {
        from { 
          opacity: 0; 
          transform: translateX(100px); 
        }
        to { 
          opacity: 1; 
          transform: translateX(0); 
        }
      }
      @keyframes slideOutRight {
        from { 
          opacity: 1; 
          transform: translateX(0); 
        }
        to { 
          opacity: 0; 
          transform: translateX(100px); 
        }
      }
    `;
    document.head.appendChild(style);
    
    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Automatic Gallery Update
    async function updateGallery(destination, scrollToGallery = true) {
      const galleryContainer = document.getElementById('gallery-container');
      const galleryTitle = document.getElementById('gallery-destination');
      
      if (!destination) return;

      try {
        // Update gallery title
        galleryTitle.textContent = `Photos of ${destination}`;
        
        // Fetch images for the destination
        const apiUrl = window.API_CONFIG ? API_CONFIG.getUrl('searchImages') : 'http://localhost:3001/api/gallery/search-images';
        const response = await fetch(`${apiUrl}?query=${encodeURIComponent(destination)}`);
        const images = await response.json();

        if (!response.ok) {
          throw new Error(images.error || 'Failed to fetch images');
        }

        // Clear existing gallery
        galleryContainer.innerHTML = '';

        // Add new images
        images.forEach((image, index) => {
          const col = document.createElement('div');
          col.className = 'col-sm-6 col-md-4 col-lg-4';
          col.setAttribute('data-aos', 'zoom-in');
          col.setAttribute('data-aos-delay', (index * 100).toString());
          
          col.innerHTML = `
            <div class="gallery-item">
              <img src="${image.url}" 
                   class="img-fluid rounded" 
                   alt="${image.title}"
                   loading="lazy"
                   onerror="this.src='https://via.placeholder.com/500x300?text=Image+Not+Available'">
            </div>
          `;
          galleryContainer.appendChild(col);
        });

        // Refresh AOS animations
        AOS.refresh();

        // Scroll to gallery after a short delay (only if requested)
        if (scrollToGallery) {
          setTimeout(() => {
            document.getElementById('gallery').scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 1000);
        }
      } catch (error) {
        console.error('Error:', error);
        galleryTitle.textContent = 'Error loading images. Please try again.';
      }
    }

    // Update gallery when destination is selected
    document.getElementById('destination').addEventListener('change', (e) => {
      const destination = e.target.value.trim();
      if (destination) {
        updateGallery(destination);
      }
    });

    // Also update gallery when form is submitted
    document.getElementById('itineraryForm').addEventListener('submit', async (e) => {
      const destination = document.getElementById('destination').value.trim();
      if (destination) {
        updateGallery(destination);
      }
    });
  </script>

  <!-- API Configuration -->
  <script src="config.js"></script>
</body>
</html>